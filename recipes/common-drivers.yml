---
# yaml-language-server: $schema=https://schema.blue-build.org/module-list-v1.json
modules:
  - type: dnf
    # repos:
    #   nonfree: negativo17
    # replace:
    #   - from-repo: fedora-multimedia
    install:
      skip-unavailable: true
      allow-erasing: true
      packages:
        - mesa-dri-drivers
        # - mesa-filesystem
        - mesa-libEGL
        - mesa-libGL
        - mesa-libgbm
        - mesa-va-drivers
        - mesa-vdpau-drivers
        - mesa-vulkan-drivers
        - libva
        - libheif

  - type: dnf
    install:
      skip-unavailable: true
      allow-erasing: true
      packages:
        # Multimedia framework plugins and libraries
        - gstreamer1-plugins-bad-free-extras
        - gstreamer1-plugins-bad
        - gstreamer1-plugins-ugly
        - gstreamer1-vaapi
        - libdvdcss
        - fdk-aac
        - libfdk-aac
        - ffmpeg
        - ffmpeg-libs
        - libavcodec
        - ocl-icd # Fix OpenCL package for dual-GPU stability (AMD + NVIDIA compute)
